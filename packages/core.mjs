import{on as t}from"@frsource/tiny-carousel-utils";function i(t,i){for(var r=0;r<i.length;r++){var s=i[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var r={active:0,className:"frs-tc",itemClassName:"frs-tc-item",hideScrollClassName:"frs-hide-scroll"},s=function(){function s(i,s){void 0===s&&(s={}),this.carouselElement=i,this.config=Object.assign({},r,s),this.items=this.findPossibleItems(),t(i,"scroll",this.resetActive.bind(this),{passive:!0})}s.updateDefaultConfig=function(t){Object.assign(r,t)};var n,e,o,u=s.prototype;return u.use=function(t){return t.install.apply(t,[this].concat([].slice.call(arguments,1))),this},u.init=function(){var t=this.carouselElement.classList.add,i=this.config;return t(i.className),t(i.hideScrollClassName),this.goTo(i.active),this},u.goTo=function(t){return t<0?this.goTo(t+this.items.length):!(t>this.items.length-1||(this.carouselElement.scrollLeft=this.items[t].offsetLeft,0))},u.next=function(){return this.goTo(this.active+1)},u.prev=function(){return this.active>0&&this.goTo(this.active-1)},u.resetActive=function(){this.t=void 0},u.findPossibleItems=function(){var t=Array.from(this.carouselElement.children),i=this.config.itemClassName,r=t.filter(function(t){return t.classList.contains(i)});return r.length?r:(t.forEach(function(t){t.classList.add(i)}),t)},n=s,o=[{key:"defaultConfig",get:function(){return Object.assign({},r)}}],(e=[{key:"_carouselScrollPositionX",get:function(){var t,i=this.carouselElement,r=i.scrollLeft+i.clientWidth/2;return(null==(t=this.items[0])?void 0:t.offsetParent)!==i&&(r+=i.offsetLeft),r}},{key:"active",get:function(){if(void 0!==this.t)return this.t;for(var t,i=this.i,r=-1;(t=this.items[++r])&&i>=t.offsetLeft;);return this.t=--r}}])&&i(n.prototype,e),o&&i(n,o),s}();export{s as TinyCarousel};
//# sourceMappingURL=core.mjs.map
