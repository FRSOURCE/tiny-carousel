!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@frsource/tiny-carousel-utils")):"function"==typeof define&&define.amd?define(["exports","@frsource/tiny-carousel-utils"],e):e((t||self).tinyCarouselCore={},t.tinyCarouselUtils)}(this,function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var s={active:0,className:"frs-tc",itemClassName:"frs-tc-item",hideScrollClassName:"frs-hide-scroll"};t.TinyCarousel=function(){function t(t,i){void 0===i&&(i={}),this.carouselElement=t,this.config=Object.assign({},s,i),this.items=this.findPossibleItems(),e.on(this.carouselElement,"scroll",this.resetActive.bind(this),{passive:!0})}t.updateDefaultConfig=function(t){Object.assign(s,t)};var n,o,r,l=t.prototype;return l.use=function(t){return t.install.apply(t,[this].concat([].slice.call(arguments,1))),this},l.init=function(){return this.carouselElement.classList.add(this.config.className),this.carouselElement.classList.add(this.config.hideScrollClassName),this.goTo(this.config.active),this},l.goTo=function(t){return t<0?this.goTo(t+this.items.length):!(t>this.items.length-1||(this.carouselElement.scrollLeft=this.items[t].offsetLeft,0))},l.next=function(){return this.goTo(this.active+1)},l.prev=function(){return this.active>0&&this.goTo(this.active-1)},l.resetActive=function(){this._active=void 0},l.findPossibleItems=function(){var t=this,e=Array.from(this.carouselElement.children),i=e.filter(function(e){return e.classList.contains(t.config.itemClassName)});return i.length?i:(e.forEach(function(e){e.classList.add(t.config.itemClassName)}),e)},n=t,r=[{key:"defaultConfig",get:function(){return Object.assign({},s)}}],(o=[{key:"_carouselScrollPositionX",get:function(){var t,e=this.carouselElement.scrollLeft+this.carouselElement.clientWidth/2;return(null==(t=this.items[0])?void 0:t.offsetParent)!==this.carouselElement&&(e+=this.carouselElement.offsetLeft),e}},{key:"active",get:function(){if(void 0!==this._active)return this._active;for(var t,e=this._carouselScrollPositionX,i=-1;(t=this.items[++i])&&e>=t.offsetLeft;);return this._active=--i}}])&&i(n.prototype,o),r&&i(n,r),t}()});
//# sourceMappingURL=core.js.map
