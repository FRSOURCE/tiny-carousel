{"version":3,"sources":["src\\scripts\\FRSTinyCarousel.js","src\\FRS-tiny-carousel.js","index.js"],"names":["window","FRSTinyCarousel","config","wrapperClassName","itemClassName","scrollTimeout","useFallback","InstallTrigger","_elements","length","Array","prototype","slice","apply","result","map","wrapContent","addItemClass","forEach","attachScrollEvent","_element","children","_el","classList","add","contains","wrapper","document","createElement","childNodes","className","el","appendChild","timeoutId","initialScrollLeft","addEventListener","onFirstScroll","passive","onScroll","_e","removeEventListener","target","scrollLeft","clearTimeout","setTimeout","timeoutedScroll","offset","direction","elementToSnap","shift","offsetWidth","require"],"mappings":"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","file":"FRS-table.map","sourceRoot":"..","sourcesContent":["window.FRSTinyCarousel = FRSTinyCarousel;\r\nFRSTinyCarousel.config = {\r\n  wrapperClassName: 'frs-tc-wrapper',\r\n  itemClassName   : 'frs-tc-item',\r\n  scrollTimeout   : 45,\r\n  useFallback     : typeof InstallTrigger === 'undefined' // if not Firefox, based on\r\n                                                          // https://stackoverflow.com/a/9851769\r\n};\r\n\r\n//\r\n\r\nfunction FRSTinyCarousel (_elements) {\r\n  _elements = _elements.length ? Array.prototype.slice.apply(_elements) : [_elements];\r\n\r\n  let result = _elements.map(wrapContent).map(addItemClass);\r\n\r\n  if (FRSTinyCarousel.config.useFallback) {\r\n    result.forEach(attachScrollEvent);\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction addItemClass (_element) {\r\n  const children = Array.prototype.slice.apply(_element.children);\r\n\r\n  children.forEach(function (_el) {\r\n    _el.classList.add(FRSTinyCarousel.config.itemClassName);\r\n  });\r\n\r\n  return _element;\r\n}\r\n\r\nfunction wrapContent (_element) {\r\n  if (_element.classList.contains(FRSTinyCarousel.config.wrapperClassName)) {\r\n    return _element;\r\n  }\r\n\r\n  const wrapper    = document.createElement('div');\r\n  const childNodes = _element.childNodes;\r\n\r\n  wrapper.className = FRSTinyCarousel.config.wrapperClassName;\r\n\r\n  let el;\r\n  while (el = childNodes[0]) {\r\n    wrapper.appendChild(el);\r\n  }\r\n\r\n  _element.appendChild(wrapper);\r\n\r\n  return wrapper;\r\n}\r\n\r\nfunction attachScrollEvent (_element) {\r\n  let timeoutId         = void 0;\r\n  let initialScrollLeft = void 0;\r\n\r\n  _element.addEventListener('scroll', onFirstScroll, {passive: true});\r\n  _element.addEventListener('scroll', onScroll, {passive: true});\r\n\r\n  //\r\n\r\n  function onFirstScroll (_e) {\r\n    _element.removeEventListener('scroll', onFirstScroll);\r\n\r\n    initialScrollLeft = _e.target.scrollLeft;\r\n  }\r\n\r\n  function onScroll (_e) {\r\n    clearTimeout(timeoutId);\r\n\r\n    timeoutId = setTimeout(timeoutedScroll, FRSTinyCarousel.config.scrollTimeout, _e)\r\n  }\r\n\r\n  function timeoutedScroll (_e) {\r\n    let offset     = 0;\r\n    let scrollLeft = _e.target.scrollLeft;\r\n    let children   = Array.prototype.slice.apply(_e.target.children);\r\n    let direction  = initialScrollLeft > scrollLeft ? -1 : 0;\r\n    let elementToSnap;\r\n\r\n    _element.addEventListener('scroll', onFirstScroll, {passive: true});\r\n\r\n    do {\r\n      elementToSnap = children.shift();\r\n      offset += elementToSnap.offsetWidth;\r\n    } while (offset < scrollLeft);\r\n\r\n    _e.target.scrollLeft = offset + (direction * elementToSnap.offsetWidth);\r\n  }\r\n}","require('./scripts/FRSTinyCarousel.js');\r\nrequire('./styles/FRSTinyCarousel.scss');","require('./src/FRS-tiny-carousel.js');"]}